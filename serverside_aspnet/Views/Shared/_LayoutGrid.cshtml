@using System

@model List<ComponenteLayoutGridModel>

@{
    Func<int, int, string> obtenhaClassName = (index, coluna) =>
    {
        var className = coluna > 0 ? "col-sm-" + coluna : "col-sm";
        className = index == 0 ? className + " text-right" : className;

        return className;
    };

    var classNameRow = ViewData["UsaGroupForm"].ToString() == "S" ? "form-group row" : "row";
}

<div class="@(classNameRow)">
    @for (int i = 0; i < Model.Count; i++)
    {
        <div class="@(obtenhaClassName(i, Model[i].Coluna))">
            @Model[i].HtmlTemplate(null)
        </div>
    }
</div>